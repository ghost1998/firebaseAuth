{"ast":null,"code":"import { verifyIdToken } from '../../utils/auth/firebaseAdmin';\nconst favoriteFoods = ['pizza', 'burger', 'chips', 'tortilla'];\n\nconst getFood = async (req, res) => {\n  const token = req.headers.token;\n\n  try {\n    await verifyIdToken(token);\n    return res.status(200).json({\n      food: favoriteFoods[Math.floor(Math.random() * favoriteFoods.length)]\n    });\n  } catch (error) {\n    return res.status(401).send('You are unauthorised');\n  }\n};\n\nexport default getFood;","map":{"version":3,"sources":["/Users/anjan/workspace/firebaseAuth/pages/api/getFood.js"],"names":["verifyIdToken","favoriteFoods","getFood","req","res","token","headers","status","json","food","Math","floor","random","length","error","send"],"mappings":"AAAA,SAASA,aAAT,QAA8B,gCAA9B;AACA,MAAMC,aAAa,GAAG,CAAC,OAAD,EAAU,QAAV,EAAoB,OAApB,EAA6B,UAA7B,CAAtB;;AAEA,MAAMC,OAAO,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAClC,QAAMC,KAAK,GAAGF,GAAG,CAACG,OAAJ,CAAYD,KAA1B;;AAEA,MAAI;AACF,UAAML,aAAa,CAACK,KAAD,CAAnB;AACA,WAAOD,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,MAAAA,IAAI,EAAER,aAAa,CAACS,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBX,aAAa,CAACY,MAAzC,CAAD;AADO,KAArB,CAAP;AAGD,GALD,CAKE,OAAOC,KAAP,EAAc;AACd,WAAOV,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBQ,IAAhB,CAAqB,sBAArB,CAAP;AACD;AACF,CAXD;;AAaA,eAAeb,OAAf","sourcesContent":["import { verifyIdToken } from '../../utils/auth/firebaseAdmin'\nconst favoriteFoods = ['pizza', 'burger', 'chips', 'tortilla']\n\nconst getFood = async (req, res) => {\n  const token = req.headers.token\n\n  try {\n    await verifyIdToken(token)\n    return res.status(200).json({\n      food: favoriteFoods[Math.floor(Math.random() * favoriteFoods.length)],\n    })\n  } catch (error) {\n    return res.status(401).send('You are unauthorised')\n  }\n}\n\nexport default getFood\n"]},"metadata":{},"sourceType":"module"}