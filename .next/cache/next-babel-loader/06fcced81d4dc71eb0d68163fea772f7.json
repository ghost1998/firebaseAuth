{"ast":null,"code":"import * as admin from 'firebase-admin';\nexport const verifyIdToken = token => {\n  const firebasePrivateKey = process.env.FIREBASE_PRIVATE_KEY;\n\n  if (!admin.apps.length) {\n    admin.initializeApp({\n      credential: admin.credential.cert({\n        projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n        clientEmail: process.env.FIREBASE_CLIENT_EMAIL,\n        // https://stackoverflow.com/a/41044630/1332513\n        privateKey: firebasePrivateKey.replace(/\\\\n/g, '\\n')\n      }),\n      databaseURL: process.env.NEXT_PUBLIC_FIREBASE_DATABASE_URL\n    });\n  }\n\n  return admin.auth().verifyIdToken(token).catch(error => {\n    throw error;\n  });\n};","map":null,"metadata":{},"sourceType":"module"}