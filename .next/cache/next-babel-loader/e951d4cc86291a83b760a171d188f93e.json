{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport useSWR from 'swr';\nimport Link from 'next/link';\nimport { useUser } from '../utils/auth/useUser';\nimport Test from \"../components/Test\";\n\nvar fetcher = function fetcher(url, token) {\n  return fetch(url, {\n    method: 'GET',\n    headers: new Headers({\n      'Content-Type': 'application/json',\n      token: token\n    }),\n    credentials: 'same-origin'\n  }).then(function (res) {\n    return res.json();\n  });\n};\n\nvar Index = function Index() {\n  var _useUser = useUser(),\n      user = _useUser.user,\n      logout = _useUser.logout;\n\n  var _useSWR = useSWR(user ? ['/api/getFood', user.token] : null, fetcher),\n      data = _useSWR.data,\n      error = _useSWR.error;\n\n  if (!user) {\n    return __jsx(React.Fragment, null, __jsx(\"p\", null, \"Hi there!\"), __jsx(\"p\", null, \"You are not signed in.\", ' ', __jsx(Link, {\n      href: '/auth'\n    }, __jsx(\"a\", null, \"Sign in\"))));\n  }\n\n  return __jsx(\"div\", null, __jsx(\"div\", null, __jsx(\"p\", null, \"You're signed in. Email: \", user.email), __jsx(\"p\", {\n    style: {\n      display: 'inlinelock',\n      color: 'blue',\n      textDecoration: 'underline',\n      cursor: 'pointer'\n    },\n    onClick: function onClick() {\n      return logout();\n    }\n  }, \"Log out\")), __jsx(\"div\", null, __jsx(Link, {\n    href: '/example'\n  }, __jsx(\"a\", null, \"Another example page\"))), __jsx(\"div\", null, __jsx(Test, null)), error && __jsx(\"div\", null, \"Failed to fetch food!\"), data && __jsx(\"div\", null, \"Your favorite food is \", data.food, \".\"));\n};\n\nexport default Index;","map":null,"metadata":{},"sourceType":"module"}